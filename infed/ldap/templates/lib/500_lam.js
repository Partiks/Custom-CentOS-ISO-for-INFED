function list_click(box){var cbox=document.getElementsByName(box)[0];if(cbox.checked==true){cbox.checked=false;}else{cbox.checked=true;}}function listOUchanged(type,element){location.href="list.php?type="+type+"&suffix="+element.options[element.selectedIndex].value;}function listPageNumberKeyPress(url,e){var pageNumber=jQuery("#listNavPage").val();if(e.keyCode==13){if(e.preventDefault){e.preventDefault();}location.href=url+"&page="+pageNumber;return false;}return true;}function listResizeITabContentDiv(){var myDiv=document.getElementById("listTabContentArea");var height=document.documentElement.clientHeight;height-=myDiv.offsetTop;height-=105;myDiv.style.height=height+"px";var myDivScroll=document.getElementById("listScrollArea");var top=myDivScroll.offsetTop;var scrollHeight=height-(top-myDiv.offsetTop);myDivScroll.style.height=scrollHeight+"px";}function listShowSettingsDialog(title,okText,cancelText){var buttonList={};buttonList[okText]=function(){document.forms["settingsDialogForm"].submit();};buttonList[cancelText]=function(){jQuery(this).dialog("close");};jQuery("#settingsDialog").dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});}function SubmitForm(id,e){if(e.keyCode==13){if(e.preventDefault){e.preventDefault();}if(e.returnValue){e.returnValue=false;}if(window.lastKeyCode){if(window.lastKeyCode==33||window.lastKeyCode==34||window.lastKeyCode==38||window.lastKeyCode==40){window.lastKeyCode=e.keyCode;return true;}}document.getElementsByName(id)[0].click();return false;}window.lastKeyCode=e.keyCode;return true;}function addResizeHandler(item,min,max){jQuery(item).click(function(){if(jQuery(item).hasClass("imgExpanded")){jQuery(item).animate({height:min});}else{jQuery(item).animate({height:max});}jQuery(item).toggleClass("imgExpanded");});}function list_switchAccountSelection(){jQuery("input.accountBoxUnchecked").prop("checked",true);jQuery("input.accountBoxChecked").prop("checked",false);nowChecked=jQuery(".accountBoxUnchecked");nowUnchecked=jQuery(".accountBoxChecked");nowChecked.addClass("accountBoxChecked");nowChecked.removeClass("accountBoxUnchecked");nowUnchecked.addClass("accountBoxUnchecked");nowUnchecked.removeClass("accountBoxChecked");}function loginProfileChanged(element){location.href="login.php?useProfile="+element.options[element.selectedIndex].value;}function profileShowDeleteDialog(title,okText,cancelText,scope,selectFieldName){var profileName=jQuery("[name="+selectFieldName+"]").val();jQuery("#deleteText").text(profileName);jQuery("#profileDeleteType").val(scope);jQuery("#profileDeleteName").val(profileName);var buttonList={};buttonList[okText]=function(){document.forms["deleteProfileForm"].submit();};buttonList[cancelText]=function(){jQuery(this).dialog("close");};jQuery("#deleteProfileDialog").dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});}function showSimpleDialog(title,okText,cancelText,formID,dialogDivID){var buttonList={};if(okText){buttonList[okText]=function(){document.forms[formID].submit();};}buttonList[cancelText]=function(){jQuery(this).dialog("close");};jQuery("#"+dialogDivID).dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});}function passwordShowChangeDialog(title,okText,cancelText,randomText,ajaxURL){var buttonList={};buttonList[okText]=function(){passwordHandleInput("false",ajaxURL);};buttonList[randomText]=function(){passwordHandleInput("true",ajaxURL);};buttonList[cancelText]=function(){jQuery("#passwordDialogMessageArea").html("");jQuery(this).dialog("close");};jQuery("#passwordDialog").dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});var myElement=document.getElementsByName("newPassword1")[0];myElement.focus();}function passwordHandleInput(random,ajaxURL){var modules=new Array();jQuery("#passwordDialog").find(":checked").each(function(){modules.push(jQuery(this).prop("name"));});var pwd1=jQuery("#passwordDialog").find("[name=newPassword1]").val();var pwd2=jQuery("#passwordDialog").find("[name=newPassword2]").val();var forcePasswordChange=jQuery("input[name=lamForcePasswordChange]").prop("checked");var sendMail=jQuery("input[name=lamPasswordChangeSendMail]").prop("checked");var sendMailAlternateAddress="";if(jQuery("#passwordDialog").find("[name=lamPasswordChangeSendMailAddress]")){sendMailAlternateAddress=jQuery("#passwordDialog").find("[name=lamPasswordChangeSendMailAddress]").val();}var pwdJSON={"modules":modules,"password1":pwd1,"password2":pwd2,"random":random,"forcePasswordChange":forcePasswordChange,"sendMail":sendMail,"sendMailAlternateAddress":sendMailAlternateAddress};jQuery.post(ajaxURL,{jsonInput:pwdJSON},function(data){passwordHandleReply(data);},"json");}function passwordHandleReply(data){if(data.errorsOccured=="false"){jQuery("#passwordDialogMessageArea").html("");jQuery("#passwordDialog").dialog("close");jQuery("#passwordMessageArea").html(data.messages);if(data.forcePasswordChange){jQuery("#forcePasswordChangeOption").attr("checked","checked");}}else{jQuery("#passwordDialogMessageArea").html(data.messages);}}function showConfirmationDialog(title,okText,cancelText,dialogDiv,formName,resultField){var buttonList={};buttonList[okText]=function(){jQuery("#"+dialogDiv).dialog("close");if(resultField){jQuery("#"+resultField).val("ok");}appendDialogInputsToFormAndSubmit(dialogDiv,formName);};buttonList[cancelText]=function(){if(resultField){jQuery("#"+resultField).val("cancel");}jQuery(this).dialog("close");};jQuery("#"+dialogDiv).dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});}function appendDialogInputsToFormAndSubmit(dialogDiv,formName){var inputs=jQuery("#"+dialogDiv+" :input");inputs.each(function(){jQuery(this).addClass("hidden");jQuery(this).appendTo(document.forms[formName]);});document.forms[formName].submit();}function confirmOrStopProcessing(text,e){if(!confirm(text)){if(e.preventDefault){e.preventDefault();}if(e.returnValue){e.returnValue=false;}return false;}return true;}function equalWidth(elementIDs){var maxWidth=0;for(var i=0;i<elementIDs.length;++i){if(jQuery(elementIDs[i]).width()>maxWidth){maxWidth=jQuery(elementIDs[i]).width();}}if(maxWidth<5){return;}for(var i=0;i<elementIDs.length;++i){jQuery(elementIDs[i]).css({"width":maxWidth-(jQuery(elementIDs[i]).outerWidth()-jQuery(elementIDs[i]).width())});}}function equalHeight(elementIDs){var max=0;for(var i=0;i<elementIDs.length;++i){if(jQuery(elementIDs[i]).height()>max){max=jQuery(elementIDs[i]).height();}}for(var i=0;i<elementIDs.length;++i){jQuery(elementIDs[i]).css({"height":max-(jQuery(elementIDs[i]).outerHeight()-jQuery(elementIDs[i]).height())});}}function showDistributionDialog(title,okText,cancelText,scope,type,selectFieldName,serverProfile){var buttonList={};var dialogId="";if(type=="export"){jQuery("#exportName").text(jQuery("[name="+selectFieldName+"]").val());dialogId="exportDialog";buttonList[okText]=function(){document.forms["exportDialogForm"].submit();};jQuery("<input>").attr({type:"hidden",name:"exportProfiles[]",value:serverProfile+"##"+jQuery("[name="+selectFieldName+"]").val()}).appendTo("form");jQuery("<input>").attr({type:"hidden",name:"scope",value:scope}).appendTo("form");}else{if(type=="import"){dialogId="importDialog_"+scope;buttonList[okText]=function(){document.forms["importDialogForm_"+scope].submit();};}}buttonList[cancelText]=function(){jQuery(this).dialog("close");};jQuery("#"+dialogId).dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});if(type=="export"){equalWidth(new Array("#passwd","#destServerProfiles"));}else{if(type=="import"){equalWidth(new Array("#passwd_"+scope,"#importProfiles_"+scope));}}}function saveScrollPosition(formName){var top=jQuery(window).scrollTop();var left=jQuery(window).scrollLeft();jQuery("<input>").attr({type:"hidden",name:"scrollPositionTop",value:top}).appendTo(jQuery("#"+formName));jQuery("<input>").attr({type:"hidden",name:"scrollPositionLeft",value:left}).appendTo(jQuery("#"+formName));}function bindShowNewZoneDialog(title,okText,cancelText){var buttonList={};buttonList[okText]=function(){document.forms["newBindZoneDialogForm"].submit();};buttonList[cancelText]=function(){jQuery(this).dialog("close");};jQuery("#newBindZoneDialog").dialog({modal:true,title:title,dialogClass:"defaultBackground",buttons:buttonList,width:"auto"});}jQuery(document).ready(function(){jQuery(document).tooltip({items:"[helpdata]",content:function(){var element=$(this);var helpString='<table><tr><th class="help">';helpString+=element.attr("helptitle");helpString+='</th></tr><td class="help">';helpString+=element.attr("helpdata");helpString+="</td></tr></table>";return helpString;}});});function checkFieldsHaveSameValues(fieldID,fieldIDReference){var field=jQuery("#"+fieldID);var fieldRef=jQuery("#"+fieldIDReference);var check=function(){var value=field.val();var valueRef=fieldRef.val();if((value=="")&&(valueRef=="")){field.removeClass("markFail");field.removeClass("markOk");}else{if(value==valueRef){field.removeClass("markFail");field.addClass("markOk");}else{field.addClass("markFail");field.removeClass("markOk");}}};jQuery(field).keyup(check);jQuery(fieldRef).keyup(check);}function checkPasswordStrength(fieldID,ajaxURL){var field=jQuery("#"+fieldID);var check=function(){var value=field.val();var pwdJSON={"password":value};jQuery.post(ajaxURL+"&function=passwordStrengthCheck",{jsonInput:pwdJSON},function(data){checkPasswordStrengthHandleReply(data,fieldID);},"json");};jQuery(field).keyup(check);}function checkPasswordStrengthHandleReply(data,fieldID){var field=jQuery("#"+fieldID);if(data.result==true){field.removeClass("markFail");field.addClass("markOk");field.prop("title","");}else{if(field.val()==""){field.removeClass("markFail");field.removeClass("markOk");}else{field.addClass("markFail");field.removeClass("markOk");field.prop("title",data.result);}}}function updateModulePositions(id,oldPos,newPos){var positions=jQuery("#"+id).val().split(",");if(newPos>oldPos){var save=positions[oldPos];for(var i=oldPos;i<newPos;i++){positions[i]=positions[i+1];}positions[newPos]=save;}if(newPos<oldPos){var save=positions[oldPos];for(var i=oldPos;i>newPos;i--){positions[i]=positions[i-1];}positions[newPos]=save;}jQuery("#"+id).val(positions.join(","));}function filterSelect(filterInput,select,event){if(!jQuery("#"+select).data("options")){var options=[];jQuery("#"+select).find("option").each(function(){options.push({value:$(this).val(),text:$(this).text()});});jQuery("#"+select).data("options",options);}var list=jQuery("#"+select).empty().scrollTop(0).data("options");var search=jQuery.trim(jQuery("#"+filterInput).val());var regex=new RegExp(search,"gi");jQuery.each(list,function(i){var option=list[i];if(option.text.match(regex)!==null){jQuery("#"+select).append(jQuery("<option>").text(option.text).val(option.value));}});}
